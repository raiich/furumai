<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Furumai | Furumai</title>
    <meta name="description" content="Furumai: Behavior description tool">
    <meta name="og:image" content="/furumai/docs/og.png">
    
    <link rel="preload" href="/furumai/docs/assets/css/0.styles.1c1c1b6e.css" as="style"><link rel="preload" href="/furumai/docs/assets/js/app.5eb7dd47.js" as="script"><link rel="preload" href="/furumai/docs/assets/js/7.8d3e796d.js" as="script"><link rel="preload" href="/furumai/docs/assets/js/4.3f3f095b.js" as="script"><link rel="prefetch" href="/furumai/docs/assets/js/10.45601207.js"><link rel="prefetch" href="/furumai/docs/assets/js/11.d0f11617.js"><link rel="prefetch" href="/furumai/docs/assets/js/12.6c9cdbd9.js"><link rel="prefetch" href="/furumai/docs/assets/js/2.25862ca3.js"><link rel="prefetch" href="/furumai/docs/assets/js/3.3ad1a70b.js"><link rel="prefetch" href="/furumai/docs/assets/js/5.7fa21cb8.js"><link rel="prefetch" href="/furumai/docs/assets/js/6.2dd9cfd7.js"><link rel="prefetch" href="/furumai/docs/assets/js/8.ff08ef7e.js"><link rel="prefetch" href="/furumai/docs/assets/js/9.1bbcb9a1.js">
    <link rel="stylesheet" href="/furumai/docs/assets/css/0.styles.1c1c1b6e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/furumai/docs/" aria-current="page" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">Furumai</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/furumai/docs/" aria-current="page" class="nav-link router-link-exact-active router-link-active">en-US</a></li><li class="dropdown-item"><!----> <a href="/furumai/docs/ja/" class="nav-link">ja-JP</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/furumai/docs/" aria-current="page" class="nav-link router-link-exact-active router-link-active">en-US</a></li><li class="dropdown-item"><!----> <a href="/furumai/docs/ja/" class="nav-link">ja-JP</a></li></ul></div></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><h1 id="furumai"><a href="#furumai" class="header-anchor">#</a> Furumai</h1> <p>A tool of behavior visualization, via a DOT (Graphviz) like description:
<a href="https://raiich.github.io/furumai/">Furumai - behavior visualization tool</a></p> <h1 id="gallery"><a href="#gallery" class="header-anchor">#</a> Gallery</h1> <!----> <!----> <!----> <!----> <h1 id="features"><a href="#features" class="header-anchor">#</a> Features</h1> <ul><li>Text-based description
<ul><li>You can write behavior in DOT (Graphviz) style
<ul><li>You can generate SVG images using DSL specialized for describing systems and algorithms.</li></ul></li> <li>Instead of a single picture, it will generate a motion diagram (a flipbook comic) from a text description</li></ul></li> <li>Output to SVG
<ul><li>You can also adjust the appearance by specifying the SVG attribute.</li></ul></li> <li>Layout engine that can specify placement in <code>Flexbox model</code> like CSS.</li></ul> <h1 id="background"><a href="#background" class="header-anchor">#</a> Background</h1> <p>The existing drawing tools had the following difficulties.</p> <ul><li><p>GUI drawing tool</p> <ul><li>You can arrange elements in any position, but it is hard to adjust if there are a number of elements</li> <li>When there are many figures, you must also modify the related figures</li></ul></li> <li><p>Text-based drawing tool</p> <ul><li>It is difficult to specify the position of the elements
<ul><li>The position is tend to be changed after another element is added/deleted</li></ul></li> <li>There is no diff mode for describing changes, so the amount of description tends to be large
<ul><li>It is necessary to describe the whole statements for the number of figures</li></ul></li></ul></li></ul> <p>Therefore, I developed a tool that can automatically create an action diagram by adjusting each element.</p> <h1 id="functions"><a href="#functions" class="header-anchor">#</a> Functions</h1> <h2 id="basic-shapes"><a href="#basic-shapes" class="header-anchor">#</a> Basic Shapes</h2> <p>You can specify <code>box</code> / <code>person</code> / <code>cylinder</code> / <code>Pipe</code> as the basic shape.
Arrows (<code>-&gt;</code> or <code>--</code>) can be placed between elements.</p> <!----> <!----> <h2 id="icon-shapes"><a href="#icon-shapes" class="header-anchor">#</a> Icon Shapes</h2> <p>You can specify Font Awesome icon as below.</p> <!----> <!----> <h2 id="behavior-motion-diagram-like-a-flipbook-comic"><a href="#behavior-motion-diagram-like-a-flipbook-comic" class="header-anchor">#</a> Behavior motion diagram (like a flipbook comic)</h2> <p>Separate each frame of the motion diagram with <code>---</code>.</p> <h3 id="diff-mode-default"><a href="#diff-mode-default" class="header-anchor">#</a> Diff mode (default)</h3> <p>Default is <code>diff mode</code>.
The <code>diff mode</code> is useful especially for &quot;incremental small changes&quot; such as explaining how an algorithm works.</p> <!----> <!----> <p>If you hide it initial layout, it can be made to appear only after changes have been made.</p> <!----> <!----> <h3 id="snapshot-mode"><a href="#snapshot-mode" class="header-anchor">#</a> Snapshot mode</h3> <p>If each frame is independent, use the <code>snapshot</code> mode.</p> <!----> <!----> <h2 id="label-text"><a href="#label-text" class="header-anchor">#</a> Label / Text</h2> <!----> <!----> <h2 id="svg-attribute"><a href="#svg-attribute" class="header-anchor">#</a> SVG attribute</h2> <!----> <!----> <h2 id="zone-group"><a href="#zone-group" class="header-anchor">#</a> Zone / Group</h2> <p>There are the following methods to summarize the diagram elements.</p> <ul><li><code>group</code> <ul><li>Lay it side by side</li></ul></li> <li><code>zone</code> <ul><li>It arranges them in vertical direction</li></ul></li></ul> <!----> <!----> <h2 id="style"><a href="#style" class="header-anchor">#</a> Style</h2> <p>It can be styled just like CSS.
The name of the node, etc. is used as the <code>id</code>. You can also set <code>class</code> names.</p> <p>The following IDs and classes are provided by default.</p> <ul><li><code>#root</code> : Top level element</li> <li><code>.group</code>, <code>.zone</code> : groups, zones</li> <li><code>.node</code>, <code>.edge</code> : nodes, edges</li> <li><code>.text</code>, <code>.label</code> : texts, labels</li></ul> <!----> <!----> <h2 id="margin-padding"><a href="#margin-padding" class="header-anchor">#</a> Margin / Padding</h2> <p>You can set <code>margin</code> / <code>padding</code>, like web pages.</p> <!----> <!----> <h2 id="dx-dy"><a href="#dx-dy" class="header-anchor">#</a> dx / dy</h2> <p>There are cases where arrows overlap as a result of automatic placement.
You can shift the arrangement of arrows by specifying the <code>dx</code> / <code>dy</code> attribute.</p> <!----> <!----> <h2 id="layout-like-css-flexbox"><a href="#layout-like-css-flexbox" class="header-anchor">#</a> Layout like CSS Flexbox</h2> <!----> <!----> <h2 id="direction-orientation"><a href="#direction-orientation" class="header-anchor">#</a> Direction / Orientation</h2> <p>You can change the layout direction by specifying <code>flex-direction</code> in <code>style</code> or <code>orientation</code> in <code>config</code>.</p> <!----> <!----> <!----> <!----> <h2 id="hide-displayed-elements"><a href="#hide-displayed-elements" class="header-anchor">#</a> Hide displayed elements</h2> <p>To hide the displayed element, use <code>hide</code> as follows.</p> <!----> <!----> <h2 id="comment"><a href="#comment" class="header-anchor">#</a> Comment</h2> <p><code>//</code> is line comment.</p> <h2 id="rough-mode"><a href="#rough-mode" class="header-anchor">#</a> Rough Mode</h2> <p>You can enable <code>Rough.js</code> when checkbox is checked.</p> <h1 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h1> <div class="language-g4 extra-class"><pre class="language-g4"><code><span class="token keyword">grammar</span> Furumai<span class="token punctuation">;</span>

<span class="token definition rule class-name">story</span>
  <span class="token punctuation">:</span> config<span class="token operator">?</span> layout <span class="token punctuation">(</span> <span class="token string">'---'</span> update <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token string">'---'</span><span class="token operator">?</span> <span class="token constant">EOF</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">config</span>
  <span class="token punctuation">:</span> <span class="token string">'config'</span> <span class="token string">'{'</span> declaration<span class="token operator">?</span> <span class="token punctuation">(</span> <span class="token string">';'</span> declaration <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token string">';'</span><span class="token operator">?</span> <span class="token string">'}'</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">layout</span>
  <span class="token punctuation">:</span> stmt_list
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">update</span>
  <span class="token punctuation">:</span> stmt_list
  <span class="token punctuation">;</span>

<span class="token definition rule class-name">stmt_list</span>
  <span class="token punctuation">:</span> stmt<span class="token operator">*</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">stmt</span>
  <span class="token punctuation">:</span> group
  <span class="token operator">|</span> zone
  <span class="token operator">|</span> node_stmt
  <span class="token operator">|</span> edge_stmt
  <span class="token operator">|</span> hide
  <span class="token operator">|</span> declaration
  <span class="token operator">|</span> style
  <span class="token operator">|</span> semi_colon
  <span class="token punctuation">;</span>

<span class="token definition rule class-name">group</span>
  <span class="token punctuation">:</span> <span class="token string">'group'</span> <span class="token constant">ID</span> <span class="token string">'{'</span> stmt_list <span class="token string">'}'</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">zone</span>
  <span class="token punctuation">:</span> <span class="token string">'zone'</span> <span class="token constant">ID</span> <span class="token string">'{'</span> stmt_list <span class="token string">'}'</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">node_stmt</span>
  <span class="token punctuation">:</span> <span class="token constant">ID</span> <span class="token string">';'</span>
  <span class="token operator">|</span> <span class="token constant">ID</span> attr_list
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">edge_stmt</span>
  <span class="token punctuation">:</span> <span class="token constant">ID</span> <span class="token constant">EDGEOP</span> <span class="token constant">ID</span> <span class="token string">';'</span>
  <span class="token operator">|</span> <span class="token constant">ID</span> <span class="token constant">EDGEOP</span> <span class="token constant">ID</span> attr_list
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">attr_list</span>
  <span class="token punctuation">:</span> <span class="token string">'['</span> declaration <span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token string">','</span> <span class="token operator">|</span> <span class="token string">';'</span> <span class="token punctuation">)</span><span class="token operator">?</span>  declaration <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">(</span> <span class="token string">','</span> <span class="token operator">|</span> <span class="token string">';'</span> <span class="token punctuation">)</span><span class="token operator">?</span> <span class="token string">']'</span>
  <span class="token operator">|</span> <span class="token string">'['</span> <span class="token string">']'</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">hide</span>
  <span class="token punctuation">:</span> hide_elem
  <span class="token operator">|</span> hide_edge
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">hide_elem</span>
  <span class="token punctuation">:</span> <span class="token string">'hide'</span> <span class="token constant">ID</span> <span class="token string">';'</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">hide_edge</span>
  <span class="token punctuation">:</span> <span class="token string">'hide'</span> <span class="token constant">ID</span> <span class="token constant">EDGEOP</span> <span class="token constant">ID</span> <span class="token string">';'</span>
  <span class="token punctuation">;</span>

<span class="token definition rule class-name">style</span>
  <span class="token punctuation">:</span> <span class="token string">'style'</span> <span class="token string">'{'</span> css_stmt<span class="token operator">*</span> <span class="token string">'}'</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">css_stmt</span>
  <span class="token punctuation">:</span> selector_list <span class="token string">'{'</span> declaration<span class="token operator">?</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token string">','</span> <span class="token operator">|</span> <span class="token string">';'</span> <span class="token punctuation">)</span> declaration <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">(</span> <span class="token string">','</span> <span class="token operator">|</span> <span class="token string">';'</span> <span class="token punctuation">)</span><span class="token operator">?</span> <span class="token string">'}'</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">selector_list</span>
  <span class="token punctuation">:</span> selector <span class="token punctuation">(</span> <span class="token string">','</span> selector <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token string">','</span><span class="token operator">?</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">selector</span>
  <span class="token punctuation">:</span> combined_selector<span class="token operator">*</span> basic_selector
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">combined_selector</span>
  <span class="token punctuation">:</span> basic_selector combinator<span class="token operator">?</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">combinator</span>
  <span class="token punctuation">:</span> <span class="token string">'&gt;'</span>
  <span class="token punctuation">;</span>

<span class="token definition rule class-name">basic_selector</span>
  <span class="token punctuation">:</span> univ_selector
  <span class="token operator">|</span> type_selector
  <span class="token operator">|</span> class_selector
  <span class="token operator">|</span> id_selector
  <span class="token operator">|</span> edge_selector
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">univ_selector</span>
  <span class="token punctuation">:</span> <span class="token string">'*'</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">type_selector</span>
  <span class="token punctuation">:</span> <span class="token constant">ID</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">class_selector</span>
  <span class="token punctuation">:</span> <span class="token constant">DOT</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">id_selector</span>
  <span class="token punctuation">:</span> <span class="token constant">HASH</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">edge_selector</span>
  <span class="token punctuation">:</span> <span class="token constant">ID</span> <span class="token constant">EDGEOP</span> <span class="token constant">ID</span>
  <span class="token punctuation">;</span>

<span class="token definition rule class-name">declaration</span>
  <span class="token punctuation">:</span> <span class="token constant">ID</span> <span class="token constant">DOT</span><span class="token operator">*</span> <span class="token punctuation">(</span> <span class="token string">':'</span> <span class="token operator">|</span> <span class="token string">'='</span> <span class="token punctuation">)</span> val<span class="token operator">+</span>
  <span class="token punctuation">;</span>
<span class="token definition rule class-name">val</span>
  <span class="token punctuation">:</span> <span class="token constant">STRING</span>
  <span class="token operator">|</span> <span class="token constant">ID</span>
  <span class="token operator">|</span> <span class="token constant">HASH</span>
  <span class="token punctuation">;</span>

<span class="token definition rule class-name">semi_colon</span>
  <span class="token punctuation">:</span> <span class="token string">';'</span>
  <span class="token punctuation">;</span>

<span class="token definition token constant">ID</span>
  <span class="token punctuation">:</span> <span class="token string">'-'</span><span class="token operator">?</span> <span class="token character-class regex"><span class="token punctuation">[</span>a<span class="token range punctuation">-</span>zA<span class="token range punctuation">-</span>Z_0<span class="token range punctuation">-</span>9<span class="token punctuation">]</span></span><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">'-'</span> <span class="token character-class regex"><span class="token punctuation">[</span>a<span class="token range punctuation">-</span>zA<span class="token range punctuation">-</span>Z_0<span class="token range punctuation">-</span>9<span class="token punctuation">]</span></span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span>
  <span class="token punctuation">;</span>

<span class="token definition token constant">HASH</span>
  <span class="token punctuation">:</span> <span class="token string">'#'</span> <span class="token constant">ID</span>
  <span class="token punctuation">;</span>

<span class="token definition token constant">DOT</span>
  <span class="token punctuation">:</span> <span class="token string">'.'</span> <span class="token constant">ID</span>
  <span class="token punctuation">;</span>

<span class="token definition token constant">STRING</span>
  <span class="token punctuation">:</span> <span class="token string">'\''</span> <span class="token punctuation">(</span> <span class="token operator">~</span><span class="token string">'\''</span> <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token string">'\''</span> <span class="token action"><span class="token punctuation">{</span><span class="token content"> this.text = this.text.slice(1, -1)</span><span class="token punctuation">}</span></span>
  <span class="token operator">|</span> <span class="token string">'&quot;'</span> <span class="token punctuation">(</span> <span class="token operator">~</span><span class="token string">'&quot;'</span> <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token string">'&quot;'</span> <span class="token action"><span class="token punctuation">{</span><span class="token content"> this.text = this.text.slice(1, -1) </span><span class="token punctuation">}</span></span>
  <span class="token punctuation">;</span>

<span class="token definition token constant">EDGEOP</span>
  <span class="token punctuation">:</span> <span class="token string">'--'</span>
  <span class="token operator">|</span> <span class="token string">'-&gt;'</span>
  <span class="token punctuation">;</span>

<span class="token definition token constant">SPACES</span>
  <span class="token punctuation">:</span> <span class="token character-class regex"><span class="token punctuation">[</span> <span class="token escape">\u000B</span><span class="token escape">\t</span><span class="token escape">\r</span><span class="token escape">\n</span><span class="token punctuation">]</span></span> <span class="token operator">-&gt;</span> <span class="token command"><span class="token function">channel</span><span class="token punctuation">(</span>HIDDEN<span class="token punctuation">)</span></span>
  <span class="token punctuation">;</span>

<span class="token definition token constant">SINGLE_LINE_COMMENT</span>
  <span class="token punctuation">:</span> <span class="token string">'//'</span> <span class="token punctuation">(</span> <span class="token operator">~</span><span class="token punctuation">(</span><span class="token string">'\r'</span> <span class="token operator">|</span> <span class="token string">'\n'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token string">'\r'</span> <span class="token operator">|</span> <span class="token string">'\n'</span> <span class="token operator">|</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token command"><span class="token function">channel</span><span class="token punctuation">(</span>HIDDEN<span class="token punctuation">)</span></span>
  <span class="token punctuation">;</span>
</code></pre></div><div id="footer" data-v-54addd93><hr data-v-54addd93> <a href="/furumai/docs/about.html" data-v-54addd93>About</a> <a href="/furumai/docs/gallery.html" data-v-54addd93>Gallery</a> <a href="https://github.com/raiich/furumai" data-v-54addd93>GitHub Repository</a></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/furumai/docs/assets/js/app.5eb7dd47.js" defer></script><script src="/furumai/docs/assets/js/7.8d3e796d.js" defer></script><script src="/furumai/docs/assets/js/4.3f3f095b.js" defer></script>
  </body>
</html>
